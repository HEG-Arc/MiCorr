<section ng-controller="ShowStratCtrl">
    <div class="container" ng-show="hasPendingRequests()">
        <div class="loader">
            <div class="loader--dot"></div>
            <div class="loader--dot"></div>
            <div class="loader--dot"></div>
            <div class="loader--dot"></div>
            <div class="loader--dot"></div>
            <div class="loader--dot"></div>
            <div class="loader--text"></div>
        </div>
    </div>
    <div class="container-fluid" ng-hide="hasPendingRequests()">
        <div class="row">
            <div class="col-md-6">
                <ol class="breadcrumb">
                    <li><a href="/">Home</a></li>
                    <li><a href="/artefacts">{{artefactName}}</a></li>
                    <!--<li><a href="#/artefact/{{artefactName}}/{{stratigraphyName}}">{{stratigrapydescription}}</a></li>-->
                </ol>
            </div>
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-3 text-center" ng-controller="ModalAddStrataCtrl">
                        <script type="text/ng-template" id="modalAddStrata.html">
                            <div class="modal-header">
                                <h3 class="modal-title">Add a strata</h3>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="form-group">
                                        <label for="natureFamily">Nature Family</label>
                                        <select ng-model="nature" id="natureFamily" class="form-control" >
                                            <option ng-repeat="nature in natures.natures" value="{{nature.code}}">{{nature.description}}</option>
                                        </select>
                                    </div>
                                </form>
                            </div>

                            <div class="modal-footer">
                                <button class="btn btn-primary" ng-click="ok()">OK</button>
                                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                            </div>
                        </script>



                        <button type="button" class="btn btn-primary" ng-click="open()">
                                <span class="glyphicon glyphicon glyphicon-plus" aria-hidden="true"></span>
                                Add a strata
                        </button>
                    </div>
                    <div class="col-md-2 text-center">
                        <div ng-controller="ModalSaveStrataCtrl">
                            <script type="text/ng-template" id="saveStrataContent.html">
                                <div class="modal-header">
                                    <h3 class="modal-title">Save this strata</h3>
                                </div>
                                <div class="modal-body">
                                    <p>Do you really want to save this strata ?</p>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-primary" ng-click="ok()">OK</button>
                                    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                                </div>
                            </script>

                            <button ng-click="open('sm')" type="button" class="btn btn-primary">
                                <span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
                                Save
                            </button>
                        </div>
                    </div>
                    <div class="col-md-2 text-center">

                        <div ng-controller="ModalShowSimilarStrataCtrl">
                            <script type="text/ng-template" id="showSimilarStrataContent.html">
                                <div class="modal-header">
                                    <h3 class="modal-title">List of similar artefacts</h3>
                                </div>
                                <div class="modal-body">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>#</th>
                                                <th>Matching 100%</th>
                                                <th>Metal Family</th>
                                                <th>Metal Alloy</th>
                                                <th>Object</th>
                                                <th>Chronology</th>
                                                <th>Technology</th>
                                                <th>Microstructure</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat='result in results'>
                                                <td><strong>{{$index + 1}}</strong></td>
                                                <td><a href='/artefacts/{{result.artefact_id}}' target="_blank">{{result.matching100}}</a></td>
                                                <td>{{result.artefact_metal1}}</td>
                                                <td>{{result.artefact_alloy}}</td>
                                                <td>{{result.artefact_type}}</td>
                                                <td>{{result.artefact_chronology_category}}</td>
                                                <td>{{result.artefact_technology}}</td>
                                                <td>{{result.artefact_microstructure}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-primary" ng-click="ok()">OK</button>
                                </div>
                            </script>

                            <button ng-click="open('lg')" type="button" class="btn btn-primary">
                                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                                Find similar
                            </button>
                        </div>
                    </div>
                    <div class="col-md-2 text-center">
                        <div ng-controller="ModalExportStrataCtrl">
                            <script type="text/ng-template" id="exportStrataContent.html">
                                <div class="modal-header">
                                    <h3 class="modal-title">Export to PNG</h3>
                                </div>
                                <div class="modal-body">
                                    <p>Right click to download a strata.</p>
                                    <div ng-repeat="image in images">
                                        <stratapng index="{{$index}}"></stratapng>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-primary" ng-click="ok()">OK</button>
                                </div>
                            </script>

                            <button ng-click="open('lg')" type="button" class="btn btn-primary">
                                <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                                Export to PNG
                            </button>
                        </div>
                    </div>
                    <div class="col-md-3 text-center">
                        <!-- DELETE STRATA BUTTON
                        <div ng-controller="ModalDelStrataCtrl">
                            <script type="text/ng-template" id="delStrataContent.html">
                                <div class="modal-header">
                                    <h3 class="modal-title">Delete this strata</h3>
                                </div>
                                <div class="modal-body">
                                    <p>Do you really want to delete this strata ?</p>
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-primary" ng-click="ok()">OK</button>
                                    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                                </div>
                            </script>

                            <button class="btn btn-primary" ng-click="open('sm')">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                Delete this strata
                            </button>
                        </div>
                        -->
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="container-fluid" ng-hide="hasPendingRequests()">
        <div class="row">
            <div class="col-md-6">
                <div ng-controller="TabsStrataCtrl">
                    <div ng-hide="showTabForms">
                        <div class="jumbotron">
                            <h1>Stratigraphy visualizer</h1>
                            <p>Please select or add a strata to show its properties.</p>
                        </div>
                    </div>

                    <div class="row-fluid" ng-show="showTabForms">
                        <div class="col-md-7">
                            <blockquote>
                                <p>
                                    Strata : {{strataName}}
                                </p>
                                    <div class="col-md-3 text-center" ng-controller="ModalAddChildStrataCtrl">
                                        <script type="text/ng-template" id="modalAddChildStrata.html">
                                            <div class="modal-header">
                                                <h3 class="modal-title">Add a child strata</h3>
                                            </div>
                                            <div class="modal-body">
                                                <form>
                                                    <div class="form-group">
                                                        <label for="natureFamily">Nature Family</label>
                                                        <select ng-model="nature" id="childNatureFamily" class="form-control" >
                                                            <option ng-repeat="nature in natures.natures" value="{{nature.code}}">{{nature.description}}</option>
                                                        </select>
                                                    </div>
                                                </form>
                                            </div>

                                            <div class="modal-footer">
                                                <button class="btn btn-primary" ng-click="ok()">OK</button>
                                                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                                            </div>
                                        </script>
                                        <!--
                                        <button type="button" class="btn btn-primary" ng-click="open()">
                                                <span class="glyphicon glyphicon glyphicon-plus" aria-hidden="true"></span>
                                                Add a child strata
                                        </button>
                                        -->
                                    </div>
                            </blockquote>
                        </div>
                        <div class="col-md-5">
                            <blockquote>
                                <p>
                                    Nature family : {{natureFamilyname}}
                                </p>
                            </blockquote>
                        </div>
                    </div>
                    <div ng-show="corrodedMetalStrataSelected">
                        <input type="range" max="10" ng-model="ratio.ratio" ng-change="ratioChange()"></input>
                    </div>
                    <tabset ng-show="showTabForms" justified="true">
                        <tab heading="Morphology" ng-controller="StratMorphologyCtrl" active="activeMorphologyTab">
                            <form>
                                <div class="row-fluid">
                                    <div class="col-md-6 form-group">
                                        <label for="morphologyShape"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Shape</label>
                                        <select id="morphologyShape" class="form-control" ng-model="selectedShapeFamily" ng-options="x.real_name for x in shapeFamily" ng-change="upMorpho()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showWidth" class="col-md-6 form-group">
                                        <label for="morphologyWidth"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Width</label>
                                        <select id="morphologyWidth" class="form-control" ng-model="selectedWidthFamily" ng-options="x.real_name for x in widthFamily" ng-change="upMorpho()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showThickness" class="col-md-6 form-group">
                                        <label for="morphologyThickness"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Thickness</label>
                                        <select id="morphologyThickness" class="form-control" ng-model="selectedThicknessFamily" ng-options="x.real_name for x in thicknessFamily" ng-change="upMorpho()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showContinuity" class="col-md-6 form-group">
                                        <label for="morphologyContinuity"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Continuity</label>
                                        <select id="morphologyContinuity" class="form-control" ng-model="selectedContinuityFamily" ng-options="x.real_name for x in continuityFamily" ng-change="upMorpho()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showDirection" class="col-md-6 form-group">
                                        <label for="morphologyDirection"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Direction</label>
                                        <select id="morphologyDirection" class="form-control" ng-model="selectedDirectionFamily" ng-options="x.real_name for x in directionFamily" ng-change="upMorpho()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showColor" class="col-md-6 form-group">
                                        <label for="physicalPropertyColor"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Colour</label>
                                        <select id="physicalPropertyColor" class="form-control" ng-model="selectedColourFamily" ng-options="x.real_name for x in colourFamily" ng-change="upMorpho()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showBrightness" class="col-md-6 form-group">
                                        <label for="physicalPropertyBrightness"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Brightness</label>
                                        <select id="physicalPropertyBrightness" class="form-control" ng-model="selectedBrightnessFamily" ng-options="x.real_name for x in brightnessFamily" ng-change="upMorpho()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showBrightness" class="col-md-6 form-group">
                                        <label for="physicalPropertyOpacity"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Opacity</label>
                                        <select id="physicalPropertyOpacity" class="form-control" ng-model="selectedOpacityFamily" ng-options="x.real_name for x in opacityFamily" ng-change="upMorpho()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showMagnetism" class="col-md-6 form-group">
                                        <label for="physicalPropertyMagnetism"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Magnetism</label>
                                        <select id="physicalPropertyMagnetism" class="form-control" ng-model="selectedMagnetismFamily" ng-options="x.real_name for x in magnetismFamily" ng-change="upMorpho()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 form-group">
                                    </div>
                                </div>
                            </form>
                        </tab>
                        <tab heading="Texture" ng-controller="StratTextureCtrl">
                            <form>
                                <div class="row-fluid">
                                    <div ng-show="showPorosity" class="col-md-6 form-group">
                                        <label for="texturePorosity"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Texture</label>
                                        <select id="texturePorosity" class="form-control" ng-model="selectedPorosityFamily" ng-options="x.real_name for x in porosityFamily" ng-change="upTexture()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showCohesion" class="col-md-6 form-group">
                                        <label for="textureCohesion"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Cohesion</label>
                                        <select id="textureCohesion" class="form-control" ng-model="selectedCohesionFamily" ng-options="x.real_name for x in cohesionFamily" ng-change="upTexture()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showHardness" class="col-md-6 form-group">
                                        <label for="textureHardness"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Hardness</label>
                                        <select id="textureHardness" class="form-control" ng-model="selectedHardnessFamily" ng-options="x.real_name for x in hardnessFamily" ng-change="upTexture()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showCracking" class="col-md-6 form-group">
                                        <label for="textureCracking"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Cracking</label>
                                        <select id="textureCracking" class="form-control" ng-model="selectedCrackingFamily" ng-options="x.real_name for x in crackingFamily" ng-change="upTexture()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                        </tab>
                        <tab heading="Microstructure" ng-controller="StratMicrostructureCtrl">
                            <form>
                                <div class="row-fluid">
                                    <div ng-show="showCmlevelofcorrosionFamily" class="col-md-6 form-group">
                                        <label for="cmlevelofcorrosionFamily">Level of corrosion</label>
                                        <select id="cmlevelofcorrosionFamily" class="form-control" ng-model="selectedCmlevelofcorrosionFamily" ng-options="x.real_name for x in cmlevelofcorrosionFamily" ng-change="upMicrostructure()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showcprimicrostructureFamily" class="col-md-6 form-group">
                                        <label for="cpriMicrostructureFamily"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Microstructure</label>
                                        <select id="cpriMicrostructureFamily" class="form-control" ng-model="selectedCprimicrostructureFamily" ng-options="x.real_name for x in cprimicrostructureFamily" ng-change="upMicrostructure()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">

                                    <div ng-show="showcprimicrostructureaggregatecompositionFamily" class="col-md-6 form-group">
                                        <label for="cprimicrostructureaggregatecomposition"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> CPRI microstructure aggregate composition</label>
                                        <select id="cprimicrostructureaggregatecomposition" class="form-control" ng-model="selectedCprimicrostructureaggregatecompositionFamily" ng-options="x.real_name for x in cprimicrostructureaggregatecompositionFamily" ng-change="upMicrostructure2()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <!-- sub CM Level of Corrosion n'est pas affiché pour l'instant. Demander à Christian Degrigny pourquoi
                                    <div ng-show="showsubcmlevelofcorrosionFamily" class="col-md-6 form-group">
                                        <label for="subcmlevelofcorrosionFamily">Sub CM Level of corrosion</label>
                                        <select id="subcmlevelofcorrosionFamily" class="form-control" ng-model="selectedSubcmlevelofcorrosionFamily" ng-options="x.name for x in subcmlevelofcorrosionFamily" ng-change="upMicrostructure()">
                                        </select>
                                    </div>-->
                                </div>
                                <div class="row-fluid">

                                    <div ng-show="showsubcprimicrostructureaggregatecompositionFamily" class="col-md-6 form-group">
                                        <label for="subcprimicrostructureaggregatecompositionFamily"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Sub CPRI microstructure aggregate composition</label>
                                        <select id="subcprimicrostructureaggregatecompositionFamily" class="form-control" ng-model="selectedSubcprimicrostructureaggregatecompositionFamily" ng-options="x.sub_real_name for x in subcprimicrostructureaggregatecompositionFamily" ng-change="upMicrostructure3()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showmmicrostructureFamily" class="col-md-6 form-group">
                                        <label for="mMicrostructureFamily"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Microstructure</label>
                                        <select id="mMicrostructureFamily" class="form-control" ng-model="selectedMmicrostructureFamily" ng-options="x.real_name for x in mmicrostructureFamily" ng-change="upMicrostructure()">
                                            <option value=""> </option>
                                        </select>
                                    </div>

                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showsubsubcprimicrostructureaggregatecompositionFamily" class="col-md-6 form-group">
                                        <label for="subsubcprimicrostructureaggregatecompositionFamily"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Sub Sub CPRI microstructure aggregate composition</label>
                                        <select id="subsubcprimicrostructureaggregatecompositionFamily" class="form-control" ng-model="selectedSubsubcprimicrostructureaggregatecompositionFamily" ng-options="x.name for x in subsubcprimicrostructureaggregatecompositionFamily" ng-change="upMicrostructure()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 form-group"></div>
                                </div>
                                <div class="row-fluid">
                                    <div class="col-md-12 form-group" ng-show="showsubcprimicrostructureFamily">
                                        <label class="control-label"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Sub cpriMicrostructure</label>
                                        <picklist size="10"  data-picklist="" data-pick-model="selectedSubcprimicrostructureFamily" data-pick-options="v.name for v in subcprimicrostructureFamily" />
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div class="col-md-12 form-group" ng-show="showsubmmicrostructureFamily">
                                        <label class="control-label"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Sub Microstructure</label>
                                        <picklist size="10"  data-picklist="" data-pick-model="selectedSubmmicrostructureFamily" data-pick-options="v.name for v in submmicrostructureFamily"/>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div class="col-md-12 form-group" ng-show="showcprimicrostructureaggregatecompositionextensionFamily">
                                        <label class="control-label"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> CPRI Microstructure aggregate composition extension</label>
                                        <picklist size="10"  data-picklist="" data-pick-model="selectedCprimicrostructureaggregatecompositionExtensionFamily" data-pick-options="v.real_name for v in cprimicrostructureaggregatecompositionExtensionFamily"/>
                                    </div>
                                </div>
                            </form>
                        </tab>
                        <tab heading="Composition" ng-controller="StratCompositionCtrl">
                            <form>
                                <div class="row-fluid">
                                    <div ng-show="showScomposition" class="col-md-6 form-group">
                                        <label for="sCompositionFamily">Composition</label>
                                        <select id="sCompositionFamily" class="form-control" ng-model="selectedscompositionFamily" ng-options="x.real_name for x in scompositionFamily" ng-change="upComposition()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showNmmcomposition" class="col-md-6 form-group">
                                        <label for="nmmCompositionFamily">Composition</label>
                                        <select id="nmmCompositionFamily" class="form-control" ng-model="selectedNmmcompositionFamily" ng-options="x.real_name for x in nmmcompositionFamily" ng-change="upComposition()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showDcomposition" class="col-md-6 form-group">
                                        <label for="dCompositionFamily">Composition</label>
                                        <select id="dCompositionFamily" class="form-control" ng-model="selectedDcompositionFamily" ng-options="x.real_name for x in dcompositionFamily" ng-change="upComposition()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showPomcomposition" class="col-md-6 form-group">
                                        <label for="pomCompositionFamily">Composition</label>
                                        <select id="pomCompositionFamily" class="form-control" ng-model="selectedPomcompositionFamily" ng-options="x.real_name for x in pomcompositionFamily" ng-change="upComposition()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showCmcomposition" class="col-md-6 form-group">
                                        <label for="cmCompositionFamily">Composition</label>
                                        <select id="cmCompositionFamily" class="form-control" ng-model="selectedCmcompositionFamily" ng-options="x.real_name for x in cmcompositionFamily" ng-change="upComposition2()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showsubcmcompositionFamily" class="col-md-6 form-group">
                                        <label for="subcmcompositionFamily">Sub CM composition</label>
                                        <select id="subcmcompositionFamily" class="form-control" ng-model="selectedSubcmcompositionFamily" ng-options="x.sub_real_name for x in subcmcompositionFamily" ng-change="upComposition()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showMcomposition" class="col-md-6 form-group">
                                        <label for="mCompositionFamily"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Main element</label>
                                        <select id="mCompositionFamily" class="form-control" ng-model="selectedMcompositionFamily" ng-options="x.real_name for x in mcompositionFamily" ng-change="upComposition2()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showCpcomposition" class="col-md-6 form-group">
                                        <label for="cpCompositionFamily"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Main element</label>
                                        <select id="cpCompositionFamily" class="form-control" ng-model="selectedCpcompositionFamily" ng-options="x.real_name for x in cpcompositionFamily" ng-change="upComposition2()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showsubcpcompositionFamily" class="col-md-6 form-group">
                                        <label for="subcpcompositionFamily"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Main and secondary elements</label>
                                        <select id="subcpcompositionFamily" class="form-control" ng-model="selectedSubcpcompositionFamily" ng-options="x.sub_real_name for x in subcpcompositionFamily" ng-change="upComposition3()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                    <div ng-show="showsubsubcpcompositionFamily" class="col-md-6 form-group">
                                        <label for="subsubcpcompositionFamily"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Compound</label>
                                        <select id="subsubcpcompositionFamily" class="form-control" ng-model="selectedSubsubcpcompositionFamily" ng-options="x.name for x in subsubcpcompositionFamily" ng-change="upComposition()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div ng-show="showsubmcompositionFamily" class="col-md-6 form-group">
                                        <label for="submcompositionFamily"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Alloy</label>
                                        <select id="submcompositionFamily" class="form-control" ng-model="selectedSubmcompositionFamily" ng-options="x.sub_real_name for x in submcompositionFamily" ng-change="upComposition()">
                                            <option value=""> </option>
                                        </select>
                                    </div>
                                </div>

                                <div class="row-fluid">
                                    <div class="col-md-12 form-group" ng-show="showcpcompositionextensionfamily">
                                        <label class="control-label"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Additional elements</label>
                                        <picklist size="10"  data-picklist="" data-pick-model="selectedCpcompositionextensionFamily" data-pick-options="v.real_name for v in cpcompositionextensionFamily"/>
                                    </div>
                                </div>

                            </form>
                        </tab>
                        <tab heading="Interfaces" ng-controller="StratInterfaceCtrl" active="activeTabInterface">
                            <div class="row-fluid">
                                <div ng-show="showinterfaceprofileFamily" class="col-md-6 form-group">
                                    <label for="interfaceProfileFamily"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Profile</label>
                                    <select id="interfaceProfileFamily" class="form-control" ng-model="selectedInterfaceprofileFamily" ng-options="x.real_name for x in interfaceprofileFamily" ng-change="upInterface()">
                                        <option value=""> </option>
                                    </select>
                                </div>
                                <div ng-show="showinterfacetransition" class="col-md-6 form-group">
                                    <label for="interfaceTransitionFamily"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Transition</label>
                                    <select id="interfaceTransitionFamily" class="form-control" ng-model="selectedInterfacetransitionFamily" ng-options="x.real_name for x in interfacetransitionFamily" ng-change="upInterface()">
                                        <option value=""> </option>
                                    </select>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div ng-show="showinterfaceroughness" class="col-md-6 form-group">
                                    <label for="interfaceRoughnessFamily"><span class="glyphicon glyphicon-eye-open" title="visual impact on the strata"></span> Roughness</label>
                                    <select id="interfaceRoughnessFamily" class="form-control" ng-model="selectedInterfaceroughnessFamily" ng-options="x.real_name for x in interfaceroughnessFamily" ng-change="upInterface()">
                                        <option value=""> </option>
                                    </select>
                                </div>
                                <div ng-show="showinterfaceadherence" class="col-md-6 form-group">
                                    <label for="interfaceAdherenceFamily"><span class="glyphicon glyphicon-eye-close" title="no visual impact on the strata"></span> Adherence</label>
                                    <select id="interfaceAdherenceFamily" class="form-control" ng-model="selectedInterfaceadherenceFamily" ng-options="x.real_name for x in interfaceadherenceFamily" ng-change="upInterface()">
                                        <option value=""> </option>
                                    </select>
                                </div>
                                <!--
                                <div ng-show="showAddCorrodedMetalStrata" class="col-md-6 form-group">
                                    <button type="button" class="btn btn-link" ng-click="addCorrodedMetalStrata()">
                                        <span class="glyphicon glyphicon glyphicon-plus" aria-hidden="true"></span>
                                        Add Corroded Metal Strata
                                    </button>
                                </div>
                                -->
                            </div>
                        </tab>
                    </tabset>
                </div>

            </div>
            <div id="hello" class="col-md-6">
                <div id="stratasvg" class="row-fluid">
                    <div class="col-md-11" ng-repeat="strata in rstratas">
                        <stratainfo index="{{$index}}"></stratainfo>
                        <strata index="{{$index}}"></strata>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>
