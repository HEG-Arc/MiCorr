{"version":3,"sources":["../ES2015/business/stratigraphy.js"],"names":["Stratigraphy","stratas","jsonStratigraphy","getArtefact","getUid","i","length","push","toJson","stratum","natureFamilyAbbrev","getNatureFamilyAbbrev","natureFamilyindex","index","setLabel","setStratumLabel","index1","index2","temp","setIndex","idel","parseInt","splice","undefined","id","uid","description","artefact"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QASMA,Y;AAGF,gCAAc;AAAA;;AACV;AACA,iBAAKC,OAAL,GAAe,EAAf;AACH;;;;qCAEO;AACJ,oBAAIC,mBAAmB,EAAC,YAAY,KAAKC,WAAL,EAAb,EAAiC,gBAAgB,KAAKC,MAAL,EAAjD,EAAgE,WAAW,EAA3E,EAAvB;;AAEA,qBAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAI,KAAKJ,OAAL,CAAaK,MAAhC,EAAwCD,GAAxC,EAA4C;AACxCH,qCAAiBD,OAAjB,CAAyBM,IAAzB,CAA8B,KAAKN,OAAL,CAAaI,CAAb,EAAgBG,MAAhB,EAA9B;AACH;;AAED,uBAAON,gBAAP;AACH;;;4CACeO,O,EAAS;AACrB,oBAAIC,qBAAqBD,QAAQE,qBAAR,EAAzB;AACA,oBAAIC,oBAAoB,CAAxB;AACA,qBAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAI,KAAKJ,OAAL,CAAaK,MAAjB,IAA2BD,IAAII,QAAQI,KAAvD,EAA8DR,GAA9D,EAAmE;AAC/D,wBAAIK,sBAAsB,KAAKT,OAAL,CAAaI,CAAb,EAAgBM,qBAAhB,EAA1B,EAAmE;AAC/DC;AACH;AACJ;AACDH,wBAAQK,QAAR,CAAiBJ,qBAAmBE,iBAApC;AACH;;;uCAKUH,O,EAAS;AAChB,qBAAKR,OAAL,CAAaM,IAAb,CAAkBE,OAAlB;AACA,qBAAKM,eAAL,CAAqBN,OAArB;AACH;;;0CAEaO,M,EAAQC,M,EAAQ;AAC1B,oBAAIC,IAAJ;AACAA,uBAAO,KAAKjB,OAAL,CAAae,MAAb,CAAP;AACA,qBAAKf,OAAL,CAAae,MAAb,IAAuB,KAAKf,OAAL,CAAagB,MAAb,CAAvB;AACA,qBAAKhB,OAAL,CAAagB,MAAb,IAAuBC,IAAvB;;AAEA,qBAAKjB,OAAL,CAAae,MAAb,EAAqBG,QAArB,CAA8BH,MAA9B;AACA,qBAAKf,OAAL,CAAagB,MAAb,EAAqBE,QAArB,CAA8BF,MAA9B;AACA,qBAAKF,eAAL,CAAqB,KAAKd,OAAL,CAAae,MAAb,CAArB;AACA,qBAAKD,eAAL,CAAqB,KAAKd,OAAL,CAAagB,MAAb,CAArB;AACH;;;uCAEUJ,K,EAAO;AACd,oBAAIO,OAAOC,SAASR,KAAT,CAAX;AACA,qBAAKZ,OAAL,CAAaqB,MAAb,CAAoBF,IAApB,EAA0B,CAA1B;AACA,oBAAI,KAAKnB,OAAL,CAAamB,IAAb,KAAsBG,SAA1B,EAAqC;AACjC,yBAAKtB,OAAL,CAAamB,IAAb,EAAmBD,QAAnB,CAA4BC,IAA5B;AACA,yBAAKL,eAAL,CAAqB,KAAKd,OAAL,CAAamB,IAAb,CAArB;AACH;AACJ;;;oCACO;AACJ,uBAAO,KAAKI,EAAZ;AACH;;;kCAEKA,E,EAAI;AACN,qBAAKA,EAAL,GAAUA,EAAV;AACH;;;qCAEQ;AACL,uBAAO,KAAKC,GAAZ;AACH;;;mCAEMA,G,EAAK;AACR,qBAAKA,GAAL,GAAWA,GAAX;AACH;;;6CAEgB;AACb,uBAAO,KAAKC,WAAZ;AACH;;;2CAEcA,W,EAAa;AACxB,qBAAKA,WAAL,GAAmBA,WAAnB;AACH;;;yCAEW;AACR,uBAAO,KAAKzB,OAAZ;AACH;;;wCACW0B,Q,EAAS;AACjB,qBAAKA,QAAL,GAAgBA,QAAhB;AACH;;;0CACY;AACT,uBAAO,KAAKA,QAAZ;AACH;;;;;;YAKE3B,Y,GAAAA,Y","file":"stratigraphy.js","sourcesContent":["/**\n * Created by Thierry Hubmann\n *\n * Cette classe est développée en ES2015 et est recompilée avec Babel\n * C'est la classe business de la Stratigraphie\n */\n\nimport {Strata} from './strata';\n\nclass Stratigraphy {\n\n\n    constructor() {\n        //contient toutes les strates de la stratigraphie\n        this.stratas = [];\n    }\n\n    toJson(){\n        var jsonStratigraphy = {'artefact': this.getArtefact(), 'stratigraphy': this.getUid(), 'stratas': []};\n\n        for(var i = 0; i < this.stratas.length; i++){\n            jsonStratigraphy.stratas.push(this.stratas[i].toJson());\n        }\n\n        return jsonStratigraphy;\n    }\n    setStratumLabel(stratum) {\n        var natureFamilyAbbrev = stratum.getNatureFamilyAbbrev();\n        var natureFamilyindex = 1;\n        for (var i = 0; i < this.stratas.length && i < stratum.index; i++) {\n            if (natureFamilyAbbrev == this.stratas[i].getNatureFamilyAbbrev()) {\n                natureFamilyindex++;\n            }\n        }\n        stratum.setLabel(natureFamilyAbbrev+natureFamilyindex);\n    }\n    /**\n     * Ajoute une strate à la stratigraphie\n     * @param stratum La strate à ajouter\n     */\n    addStratum(stratum) {\n        this.stratas.push(stratum);\n        this.setStratumLabel(stratum);\n    }\n\n    swapTwoStrata(index1, index2) {\n        var temp;\n        temp = this.stratas[index1];\n        this.stratas[index1] = this.stratas[index2];\n        this.stratas[index2] = temp;\n\n        this.stratas[index1].setIndex(index1);\n        this.stratas[index2].setIndex(index2);\n        this.setStratumLabel(this.stratas[index1]);\n        this.setStratumLabel(this.stratas[index2]);\n    }\n\n    delStratum(index) {\n        var idel = parseInt(index);\n        this.stratas.splice(idel, 1);\n        if (this.stratas[idel] != undefined) {\n            this.stratas[idel].setIndex(idel);\n            this.setStratumLabel(this.stratas[idel]);\n        }\n    }\n    getId() {\n        return this.id;\n    }\n\n    setId(id) {\n        this.id = id;\n    }\n\n    getUid() {\n        return this.uid;\n    }\n\n    setUid(uid) {\n        this.uid = uid;\n    }\n\n    getDescription() {\n        return this.description;\n    }\n\n    setDescription(description) {\n        this.description = description;\n    }\n\n    getStratas(){\n        return this.stratas;\n    }\n    setArtefact(artefact){\n        this.artefact = artefact;\n    }\n    getArtefact(){\n        return this.artefact;\n    }\n\n\n}\n\nexport{Stratigraphy};\n"]}